@import 'tailwindcss';

@plugin 'tailwindcss-animate';

@custom-variant dark (&:is(.dark *));

@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@utility prose {
  /* Blog post prose styles */
  @apply text-base leading-relaxed text-gray-700 max-w-none;

  /* Headings */
  & h1 {
    @apply text-3xl md:text-4xl font-bold text-gray-900 mt-8 mb-4 leading-tight;
  }

  & h2 {
    @apply text-2xl md:text-3xl font-bold text-gray-900 mt-10 mb-4 leading-tight;
  }

  & h3 {
    @apply text-xl md:text-2xl font-bold text-gray-900 mt-8 mb-3 leading-tight;
  }

  & h4 {
    @apply text-lg md:text-xl font-bold text-gray-900 mt-6 mb-2 leading-tight;
  }

  & h5 {
    @apply text-base md:text-lg font-bold text-gray-900 mt-4 mb-2 leading-tight;
  }

  & h6 {
    @apply text-sm md:text-base font-bold text-gray-900 mt-4 mb-2 leading-tight;
  }

  /* Paragraphs */
  & p {
    @apply text-gray-700 leading-relaxed mb-4;
  }

  /* Lists */
  & ul {
    @apply text-gray-700 mb-4 pl-6 list-disc;
  }

  & ol {
    @apply text-gray-700 mb-4 pl-6 list-decimal;
  }

  & li {
    @apply text-gray-700 mb-1 leading-relaxed;
  }

  /* Links */
  & a {
    @apply text-blue-600 no-underline hover:underline font-medium;
  }

  /* Strong and emphasis */
  & strong {
    @apply text-gray-900 font-semibold;
  }

  & em {
    @apply italic;
  }

  /* Blockquotes */
  & blockquote {
    @apply border-l-4 border-blue-200 bg-blue-50/50 p-4 my-6 rounded-lg;
  }

  & blockquote p {
    @apply italic text-gray-600 mb-0;
  }

  /* Code */
  & code {
    @apply text-blue-600 bg-gray-100 px-2 py-1 rounded text-sm font-mono;
  }

  & pre {
    @apply bg-gray-900 text-gray-100 rounded-lg my-6 p-4 overflow-x-auto;
  }

  & pre code {
    @apply bg-transparent text-gray-100 p-0;
  }

  /* Images */
  & img {
    @apply rounded-lg shadow-md my-6 mx-auto max-w-full h-auto;
  }

  /* Tables */
  & table {
    @apply w-full border-collapse border border-gray-300 my-6;
  }

  & th {
    @apply bg-gray-50 border border-gray-300 px-4 py-2 text-left font-semibold text-gray-900;
  }

  & td {
    @apply border border-gray-300 px-4 py-2 text-gray-700;
  }

  /* microCMS specific elements */
  & iframe {
    @apply my-6 rounded-lg shadow-md mx-auto max-w-full;
  }

  /* Embedded content wrapper (YouTube, etc.) */
  & div[style*='position: relative'] {
    @apply my-6 rounded-lg overflow-hidden shadow-md;
  }

  /* Horizontal rule */
  & hr {
    @apply border-t border-gray-300 my-8;
  }

  /* First and last element margin adjustment */
  & > *:first-child {
    @apply mt-0;
  }

  & > *:last-child {
    @apply mb-0;
  }
}

@utility japanese-text {
  font-family: var(--font-noto-sans-jp), sans-serif;
}

@layer utilities {
  body {
    font-family: var(--font-noto-sans-jp), Arial, Helvetica, sans-serif;
  }
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }
  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}
